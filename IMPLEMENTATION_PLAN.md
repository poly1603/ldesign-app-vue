# ğŸš€ app-vue æ ¸å¿ƒåŠŸèƒ½å®æ–½è®¡åˆ’

> ä¸“æ³¨äºåº”ç”¨åŸºç¡€è®¾æ–½ï¼Œæ‰“é€ åŠŸèƒ½å¼ºå¤§ã€æ”¯æŒå¤šç§åº”ç”¨å½¢æ€çš„æ¡†æ¶

---

## ğŸ“Š å½“å‰çŠ¶æ€åˆ†æ

### å·²é›†æˆçš„åŸºç¡€èƒ½åŠ›ï¼ˆ14ä¸ªï¼‰

| èƒ½åŠ› | åŒ… | çŠ¶æ€ |
|------|------|------|
| è·¯ç”±ç³»ç»Ÿ | `@ldesign/router-vue` | âœ… |
| çŠ¶æ€ç®¡ç† | `@ldesign/store-vue` | âœ… |
| å›½é™…åŒ– | `@ldesign/i18n-vue` | âœ… |
| ä¸»é¢˜/æš—é»‘æ¨¡å¼ | `@ldesign/color-vue` | âœ… |
| å°ºå¯¸ç³»ç»Ÿ | `@ldesign/size-vue` | âœ… |
| HTTP è¯·æ±‚ | `@ldesign/http-vue` | âœ… |
| ç¼“å­˜ | `@ldesign/cache` | âœ… |
| æ—¥å¿— | `@ldesign/logger-vue` | âœ… |
| é”™è¯¯å¤„ç† | `@ldesign/error-vue` | âœ… |
| ç”¨æˆ·è¿½è¸ª | `@ldesign/tracker-vue` | âœ… |
| é€šçŸ¥ç³»ç»Ÿ | `@ldesign/notification-vue` | âœ… |
| åŠ å¯† | `@ldesign/crypto-vue` | âœ… |
| è®¾å¤‡æ£€æµ‹ | `@ldesign/device-vue` | âœ… |
| æ¨¡æ¿ç³»ç»Ÿ | `@ldesign/template-vue` | âœ… |

### ç¼ºå¤±çš„æ ¸å¿ƒèƒ½åŠ›

| èƒ½åŠ› | é‡è¦æ€§ | çŠ¶æ€ |
|------|--------|------|
| **è®¤è¯ç³»ç»Ÿ** | ğŸ”´ å¿…éœ€ | âŒ ç¼ºå¤± |
| **æƒé™ç³»ç»Ÿ** | ğŸ”´ å¿…éœ€ | âš ï¸ æœ‰åŸºç¡€ï¼Œæœªé›†æˆ |
| **å¸ƒå±€ç³»ç»Ÿ** | ğŸ”´ å¿…éœ€ | âš ï¸ åœ¨ template åŒ…ä¸­æ‰©å±•å®ç° |
| **èœå•ç³»ç»Ÿ** | ğŸ”´ å¿…éœ€ | âŒ ç¼ºå¤± |
| **æ ‡ç­¾é¡µç³»ç»Ÿ** | ğŸŸ¡ é‡è¦ | âŒ ç¼ºå¤± |
| **é¢åŒ…å±‘** | ğŸŸ¡ é‡è¦ | âŒ ç¼ºå¤± |
| **å®æ—¶é€šä¿¡** | ğŸŸ¡ é‡è¦ | âš ï¸ æœ‰ composableï¼Œæœªé›†æˆ |
| **å‘½ä»¤é¢æ¿** | ğŸŸ¢ å¢å¼º | âŒ ç¼ºå¤± |
| **åå¥½æŒä¹…åŒ–** | ğŸŸ¢ å¢å¼º | âŒ ç¼ºå¤± |
| **ç¦»çº¿/PWA** | ğŸŸ¢ å¢å¼º | âŒ ç¼ºå¤± |
| **å¾®å‰ç«¯** | ğŸŸ¢ å¢å¼º | âŒ ç¼ºå¤± |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šè®¤è¯ä¸æƒé™ï¼ˆæ”¯æ’‘æ‰€æœ‰åº”ç”¨å½¢æ€ï¼‰

#### 1.1 è®¤è¯ç³»ç»Ÿ (Auth) â­â­â­â­â­

**çŠ¶æ€**: âŒ éœ€è¦æ–°å»º `packages/auth`

**æ ¸å¿ƒåŠŸèƒ½**:
- Token ç®¡ç†ï¼ˆJWTã€åˆ·æ–° Tokenï¼‰
- ç™»å½•/ç™»å‡º/æ³¨å†Œæµç¨‹
- OAuth2/SSO æ”¯æŒ
- è‡ªåŠ¨åˆ·æ–°ã€è¿‡æœŸå¤„ç†
- è®°ä½æˆ‘ã€è‡ªåŠ¨ç™»å½•

**åŒ…ç»“æ„**:
```
packages/auth/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ types.ts              # ç±»å‹å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ auth-manager.ts       # è®¤è¯ç®¡ç†å™¨
â”‚   â”‚       â”œâ”€â”€ token-manager.ts      # Token ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ session-manager.ts    # ä¼šè¯ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ strategies/
â”‚   â”‚       â”‚   â”œâ”€â”€ jwt.ts            # JWT ç­–ç•¥
â”‚   â”‚       â”‚   â”œâ”€â”€ oauth2.ts         # OAuth2 ç­–ç•¥
â”‚   â”‚       â”‚   â””â”€â”€ session.ts        # Session ç­–ç•¥
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â””â”€â”€ vue/
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ composables/
â”‚           â”‚   â”œâ”€â”€ useAuth.ts        # è®¤è¯çŠ¶æ€
â”‚           â”‚   â”œâ”€â”€ useUser.ts        # ç”¨æˆ·ä¿¡æ¯
â”‚           â”‚   â””â”€â”€ useLogin.ts       # ç™»å½•é€»è¾‘
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â”œâ”€â”€ AuthGuard.vue     # è®¤è¯å®ˆå«ç»„ä»¶
â”‚           â”‚   â””â”€â”€ LoginForm.vue     # ç™»å½•è¡¨å•
â”‚           â”œâ”€â”€ plugin/
â”‚           â”‚   â””â”€â”€ index.ts          # Vue æ’ä»¶
â”‚           â””â”€â”€ index.ts
```

**å·¥ä½œé‡**: 20-25 å°æ—¶

---

#### 1.2 æƒé™ç³»ç»Ÿ (Permission) â­â­â­â­â­

**çŠ¶æ€**: âš ï¸ `@ldesign/router-core` å·²æœ‰åŸºç¡€å®ç°ï¼Œéœ€è¦å¢å¼ºå¹¶é›†æˆ

**æ ¸å¿ƒåŠŸèƒ½**:
- è·¯ç”±çº§æƒé™æ§åˆ¶
- æŒ‰é’®/æ“ä½œçº§æƒé™
- è§’è‰²ç®¡ç† (RBAC)
- åŠ¨æ€æƒé™åŠ è½½
- æƒé™æŒ‡ä»¤ (v-permission)

**ç°æœ‰ä»£ç **: `packages/router/packages/core/src/features/permissions.ts`

**éœ€è¦åšçš„**:
```
packages/permission/  ï¼ˆæˆ–å¢å¼º router-coreï¼‰
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ permission-manager.ts  # æƒé™ç®¡ç†å™¨
â”‚   â”‚       â”œâ”€â”€ role-manager.ts        # è§’è‰²ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ cache.ts               # æƒé™ç¼“å­˜
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â””â”€â”€ vue/
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ composables/
â”‚           â”‚   â”œâ”€â”€ usePermission.ts   # æƒé™æ£€æŸ¥
â”‚           â”‚   â””â”€â”€ useRole.ts         # è§’è‰²æ£€æŸ¥
â”‚           â”œâ”€â”€ directives/
â”‚           â”‚   â””â”€â”€ permission.ts      # v-permission æŒ‡ä»¤
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â””â”€â”€ PermissionGuard.vue
â”‚           â”œâ”€â”€ plugin/
â”‚           â””â”€â”€ index.ts
```

**å·¥ä½œé‡**: 15-20 å°æ—¶

---

### ç¬¬äºŒé˜¶æ®µï¼šå¸ƒå±€ä¸å¯¼èˆªï¼ˆå®šä¹‰åº”ç”¨å½¢æ€ï¼‰

#### 2.1 å¸ƒå±€ç³»ç»Ÿ (Layout) â­â­â­â­â­

**çŠ¶æ€**: âœ… åœ¨ `packages/template` ä¸­æ‰©å±•å®ç°ï¼ˆå¤ç”¨ç°æœ‰æ¨¡æ¿åŸºç¡€è®¾æ–½ï¼‰

**è®¾è®¡å†³ç­–**:
> ğŸ’¡ Layout æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§"æ¨¡æ¿"â€”â€”å¸ƒå±€æ¨¡æ¿ã€‚ä¸å…¶æ–°å»º `packages/layout` åŒ…ï¼Œä¸å¦‚åœ¨å·²æœ‰çš„ `packages/template` ä¸­æ‰©å±• `layout` åˆ†ç±»ï¼Œå¤ç”¨ç°æœ‰çš„æ¨¡æ¿ç®¡ç†ã€å“åº”å¼è®¾å¤‡æ£€æµ‹ã€æ‡’åŠ è½½ç­‰åŸºç¡€è®¾æ–½ï¼Œå‡å°‘åŒ…æ•°é‡å’Œç»´æŠ¤æˆæœ¬ã€‚

**æ ¸å¿ƒåŠŸèƒ½**:
- å¤šç§å¸ƒå±€æ¨¡å¼ï¼š
  - `admin` - åå°ç®¡ç†ï¼ˆä¾§è¾¹æ +é¡¶æ ï¼‰
  - `portal` - é—¨æˆ·ç½‘ç«™ï¼ˆé¡¶éƒ¨å¯¼èˆªï¼‰
  - `dashboard` - ä»ªè¡¨ç›˜ï¼ˆå…¨å±+é¢æ¿ï¼‰
  - `blank` - ç©ºç™½å¸ƒå±€
- å“åº”å¼è®¾å¤‡é€‚é…ï¼ˆå¤ç”¨ template çš„ desktop/mobile/tablet ä¸‰ç«¯é€‚é…ï¼‰
- å¸ƒå±€åˆ‡æ¢ï¼ˆä½¿ç”¨ TemplateRenderer + category="layout"ï¼‰
- ä¾§è¾¹æ æŠ˜å 

**åœ¨ template åŒ…ä¸­æ‰©å±•**:
```
packages/template/packages/vue/src/
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ login/                        # ç°æœ‰ï¼šç™»å½•æ¨¡æ¿
â”‚   â””â”€â”€ layout/                       # ğŸ†• æ–°å¢ï¼šå¸ƒå±€æ¨¡æ¿åˆ†ç±»
â”‚       â”œâ”€â”€ desktop/
â”‚       â”‚   â”œâ”€â”€ admin/                # åå°ç®¡ç†å¸ƒå±€
â”‚       â”‚   â”‚   â”œâ”€â”€ index.vue
â”‚       â”‚   â”‚   â””â”€â”€ template.config.ts
â”‚       â”‚   â”œâ”€â”€ portal/               # é—¨æˆ·ç½‘ç«™å¸ƒå±€
â”‚       â”‚   â”‚   â”œâ”€â”€ index.vue
â”‚       â”‚   â”‚   â””â”€â”€ template.config.ts
â”‚       â”‚   â”œâ”€â”€ dashboard/            # ä»ªè¡¨ç›˜å¸ƒå±€
â”‚       â”‚   â”‚   â”œâ”€â”€ index.vue
â”‚       â”‚   â”‚   â””â”€â”€ template.config.ts
â”‚       â”‚   â””â”€â”€ blank/                # ç©ºç™½å¸ƒå±€
â”‚       â”‚       â”œâ”€â”€ index.vue
â”‚       â”‚       â””â”€â”€ template.config.ts
â”‚       â”œâ”€â”€ mobile/
â”‚       â”‚   â””â”€â”€ default/              # ç§»åŠ¨ç«¯å¸ƒå±€ï¼ˆåº•éƒ¨å¯¼èˆªï¼‰
â”‚       â”‚       â”œâ”€â”€ index.vue
â”‚       â”‚       â””â”€â”€ template.config.ts
â”‚       â””â”€â”€ tablet/
â”‚           â””â”€â”€ default/              # å¹³æ¿å¸ƒå±€
â”‚               â”œâ”€â”€ index.vue
â”‚               â””â”€â”€ template.config.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TemplateRenderer.vue          # ç°æœ‰
â”‚   â”œâ”€â”€ TemplateSelector.vue          # ç°æœ‰
â”‚   â””â”€â”€ layout/                       # ğŸ†• æ–°å¢ï¼šå¸ƒå±€å­ç»„ä»¶
â”‚       â”œâ”€â”€ LayoutHeader.vue          # é¡¶æ ç»„ä»¶
â”‚       â”œâ”€â”€ LayoutSider.vue           # ä¾§è¾¹æ ç»„ä»¶
â”‚       â”œâ”€â”€ LayoutContent.vue         # å†…å®¹åŒºç»„ä»¶
â”‚       â”œâ”€â”€ LayoutFooter.vue          # åº•éƒ¨ç»„ä»¶
â”‚       â”œâ”€â”€ LayoutTabs.vue            # æ ‡ç­¾é¡µç»„ä»¶
â”‚       â””â”€â”€ index.ts                  # å¯¼å‡º
â””â”€â”€ composables/
    â”œâ”€â”€ useTemplate.ts                # ç°æœ‰
    â”œâ”€â”€ useTemplateList.ts            # ç°æœ‰
    â”œâ”€â”€ useAutoDevice.ts              # ç°æœ‰ï¼ˆå¸ƒå±€å¤ç”¨ï¼‰
    â”œâ”€â”€ useLayout.ts                  # ğŸ†• æ–°å¢ï¼šå¸ƒå±€çŠ¶æ€ç®¡ç†
    â””â”€â”€ useSider.ts                   # ğŸ†• æ–°å¢ï¼šä¾§è¾¹æ æ§åˆ¶
```

**ä½¿ç”¨æ–¹å¼**:
```vue
<script setup lang="ts">
import { TemplateRenderer, useLayout } from '@ldesign/template-vue'

// ä½¿ç”¨å¸ƒå±€çŠ¶æ€ç®¡ç†
const { siderCollapsed, toggleSider, layoutMode } = useLayout()
</script>

<template>
  <!-- ä½¿ç”¨ TemplateRenderer æ¸²æŸ“å¸ƒå±€ï¼Œè‡ªåŠ¨å“åº”å¼åˆ‡æ¢ -->
  <TemplateRenderer
    category="layout"
    :props="{
      siderCollapsed,
      onToggleSider: toggleSider,
      menu: menuData
    }"
  >
    <!-- å†…å®¹é€šè¿‡é»˜è®¤ slot ä¼ å…¥ -->
    <router-view />
  </TemplateRenderer>
</template>
```

**ä¼˜åŠ¿**:
| æ–¹é¢ | æ–°å»º packages/layout | æ‰©å±• template åŒ… |
|------|---------------------|------------------|
| åŒ…æ•°é‡ | +2 ä¸ªæ–°åŒ… | ä¸å˜ |
| ä»£ç å¤ç”¨ | éœ€é‡å¤å®ç°æ¨¡æ¿ç®¡ç† | å¤ç”¨ç°æœ‰åŸºç¡€è®¾æ–½ |
| API ä¸€è‡´æ€§ | ä¸¤å¥—ä¸åŒ API | ç»Ÿä¸€ TemplateRenderer |
| å“åº”å¼ | éœ€é‡æ–°å®ç° | ç›´æ¥å¤ç”¨ useAutoDevice |
| ç»´æŠ¤æˆæœ¬ | æ›´é«˜ | æ›´ä½ |

**å·¥ä½œé‡**: 18-22 å°æ—¶ï¼ˆæ¯”æ–°å»ºåŒ…å‡å°‘çº¦ 30%ï¼‰

---

#### 2.2 èœå•ç³»ç»Ÿ (Menu) â­â­â­â­

**çŠ¶æ€**: âŒ éœ€è¦æ–°å»º `packages/menu`

**å‚è€ƒ**: `libraries/webcomponent/src/components/menu` æœ‰å®Œæ•´çš„ Web Component å®ç°

**æ ¸å¿ƒåŠŸèƒ½**:
- æ•°æ®é©±åŠ¨çš„èœå•
- æƒé™è¿‡æ»¤ï¼ˆä¸æƒé™ç³»ç»Ÿè”åŠ¨ï¼‰
- å›¾æ ‡æ”¯æŒ
- å¤šçº§èœå•
- èœå•æŠ˜å 
- æ¨ªå‘/çºµå‘æ¨¡å¼

**åŒ…ç»“æ„**:
```
packages/menu/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ menu-manager.ts
â”‚   â”‚       â”œâ”€â”€ menu-filter.ts        # æƒé™è¿‡æ»¤
â”‚   â”‚       â”œâ”€â”€ menu-utils.ts
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â””â”€â”€ vue/
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â”œâ”€â”€ Menu.vue
â”‚           â”‚   â”œâ”€â”€ MenuItem.vue
â”‚           â”‚   â”œâ”€â”€ SubMenu.vue
â”‚           â”‚   â””â”€â”€ MenuGroup.vue
â”‚           â”œâ”€â”€ composables/
â”‚           â”‚   â”œâ”€â”€ useMenu.ts
â”‚           â”‚   â””â”€â”€ useMenuState.ts
â”‚           â”œâ”€â”€ plugin/
â”‚           â””â”€â”€ index.ts
```

**å·¥ä½œé‡**: 20-25 å°æ—¶

---

#### 2.3 æ ‡ç­¾é¡µç³»ç»Ÿ (Tabs) â­â­â­â­

**çŠ¶æ€**: âŒ éœ€è¦æ–°å»º `packages/tabs`

**å‚è€ƒ**: `libraries/webcomponent/src/components/tabs` æœ‰å®Œæ•´å®ç°

**æ ¸å¿ƒåŠŸèƒ½**:
- å¤šæ ‡ç­¾é¡µç®¡ç†
- æ ‡ç­¾é¡µç¼“å­˜ï¼ˆkeep-aliveï¼‰
- å³é”®èœå•ï¼ˆå…³é—­å…¶ä»–ã€å…³é—­å³ä¾§ç­‰ï¼‰
- æ ‡ç­¾é¡µæ‹–æ‹½æ’åº
- å›ºå®šæ ‡ç­¾é¡µ
- ä¸è·¯ç”±è”åŠ¨

**åŒ…ç»“æ„**:
```
packages/tabs/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ tab-manager.ts
â”‚   â”‚       â”œâ”€â”€ tab-cache.ts          # ç¼“å­˜ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ tab-history.ts        # å†å²è®°å½•
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â””â”€â”€ vue/
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â”œâ”€â”€ TabBar.vue
â”‚           â”‚   â”œâ”€â”€ TabPane.vue
â”‚           â”‚   â””â”€â”€ TabContextMenu.vue
â”‚           â”œâ”€â”€ composables/
â”‚           â”‚   â”œâ”€â”€ useTabs.ts
â”‚           â”‚   â””â”€â”€ useTabCache.ts
â”‚           â”œâ”€â”€ plugin/
â”‚           â””â”€â”€ index.ts
```

**å·¥ä½œé‡**: 20-25 å°æ—¶

---

#### 2.4 é¢åŒ…å±‘ (Breadcrumb) â­â­â­

**çŠ¶æ€**: âŒ éœ€è¦æ–°å»ºï¼ˆå¯é›†æˆåˆ° router æˆ– template çš„å¸ƒå±€ç»„ä»¶ä¸­ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**:
- åŸºäºè·¯ç”±è‡ªåŠ¨ç”Ÿæˆ
- è‡ªå®šä¹‰é¢åŒ…å±‘
- å›¾æ ‡æ”¯æŒ
- ä¸‹æ‹‰èœå•ï¼ˆå­é¡µé¢å¿«é€Ÿè·³è½¬ï¼‰

**å»ºè®®**: ä½œä¸º `@ldesign/template-vue` å¸ƒå±€å­ç»„ä»¶çš„ä¸€éƒ¨åˆ†ï¼ˆ`components/layout/LayoutBreadcrumb.vue`ï¼‰

**å·¥ä½œé‡**: 5-8 å°æ—¶

---

### ç¬¬ä¸‰é˜¶æ®µï¼šå®æ—¶é€šä¿¡ä¸çŠ¶æ€åŒæ­¥

#### 3.1 WebSocket/å®æ—¶é€šä¿¡ â­â­â­

**çŠ¶æ€**: âš ï¸ `@ldesign/http-vue` å·²æœ‰ `useWebSocket`ã€`useSSE`

**éœ€è¦åšçš„**:
- [ ] åˆ›å»ºå…¨å±€ WebSocket ç®¡ç†å™¨
- [ ] å®ç°æ¶ˆæ¯è®¢é˜…/å‘å¸ƒ
- [ ] æ”¯æŒæ–­çº¿é‡è¿
- [ ] é›†æˆåˆ° app-vue

**å·¥ä½œé‡**: 8-10 å°æ—¶ï¼ˆé›†æˆ+å¢å¼ºï¼‰

---

#### 3.2 çŠ¶æ€æŒä¹…åŒ– â­â­â­

**çŠ¶æ€**: âš ï¸ æœ‰ `@ldesign/cache`ï¼Œä½†ç¼ºå°‘ä¸ store çš„æ·±åº¦é›†æˆ

**æ ¸å¿ƒåŠŸèƒ½**:
- ç”¨æˆ·åå¥½è‡ªåŠ¨æŒä¹…åŒ–ï¼ˆä¸»é¢˜ã€è¯­è¨€ã€å¸ƒå±€ï¼‰
- çŠ¶æ€æ¢å¤
- å¤šæ ‡ç­¾é¡µçŠ¶æ€åŒæ­¥
- è·¨æµè§ˆå™¨åŒæ­¥ï¼ˆå¯é€‰ï¼‰

**éœ€è¦åšçš„**:
- [ ] åˆ›å»º `usePersistedState` composable
- [ ] ä¸ store é›†æˆ
- [ ] æ”¯æŒé€‰æ‹©æ€§æŒä¹…åŒ–

**å·¥ä½œé‡**: 10-12 å°æ—¶

---

### ç¬¬å››é˜¶æ®µï¼šå¢å¼ºåŠŸèƒ½

#### 4.1 å‘½ä»¤é¢æ¿ (Command Palette) â­â­â­

**çŠ¶æ€**: âŒ éœ€è¦æ–°å»º

**æ ¸å¿ƒåŠŸèƒ½**:
- å…¨å±€å¿«æ·é”®å”¤èµ·ï¼ˆCtrl+K / Cmd+Kï¼‰
- é¡µé¢å¿«é€Ÿè·³è½¬
- æ“ä½œæœç´¢
- æœ€è¿‘è®¿é—®
- è‡ªå®šä¹‰å‘½ä»¤

**åŒ…ç»“æ„**:
```
packages/command/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ command-manager.ts
â”‚   â”‚       â”œâ”€â”€ search.ts
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â””â”€â”€ vue/
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â””â”€â”€ CommandPalette.vue
â”‚           â”œâ”€â”€ composables/
â”‚           â”‚   â””â”€â”€ useCommand.ts
â”‚           â””â”€â”€ index.ts
```

**å·¥ä½œé‡**: 15-18 å°æ—¶

---

#### 4.2 ç¦»çº¿æ”¯æŒ / PWA â­â­

**çŠ¶æ€**: âŒ éœ€è¦é…ç½®

**æ ¸å¿ƒåŠŸèƒ½**:
- Service Worker æ³¨å†Œ
- èµ„æºç¼“å­˜ç­–ç•¥
- ç¦»çº¿é¡µé¢
- æ›´æ–°æç¤º

**éœ€è¦åšçš„**:
- [ ] æ·»åŠ  vite-plugin-pwa
- [ ] é…ç½®ç¼“å­˜ç­–ç•¥
- [ ] åˆ›å»ºç¦»çº¿é¡µé¢

**å·¥ä½œé‡**: 8-10 å°æ—¶

---

#### 4.3 å¾®å‰ç«¯æ”¯æŒ â­â­

**çŠ¶æ€**: âŒ éœ€è¦æ–°å»º

**æ ¸å¿ƒåŠŸèƒ½**:
- å­åº”ç”¨åŠ è½½
- åº”ç”¨é—´é€šä¿¡
- æ ·å¼éš”ç¦»
- ç”Ÿå‘½å‘¨æœŸç®¡ç†

**å»ºè®®**: ä½¿ç”¨ qiankun æˆ– micro-app

**å·¥ä½œé‡**: 20-30 å°æ—¶

---

## ğŸ“Š ä¼˜å…ˆçº§çŸ©é˜µ

```
                    é‡è¦æ€§
                      â†‘
         é«˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ è®¤è¯    â”‚ å¸ƒå±€    â”‚
            â”‚ æƒé™    â”‚ èœå•    â”‚
            â”‚ æ ‡ç­¾é¡µ  â”‚         â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         ä¸­ â”‚ å®æ—¶é€šä¿¡â”‚ é¢åŒ…å±‘  â”‚
            â”‚ çŠ¶æ€æŒä¹…â”‚ å‘½ä»¤é¢æ¿â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         ä½ â”‚ PWA     â”‚ å¾®å‰ç«¯  â”‚
            â”‚         â”‚         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              å¿…éœ€      å¢å¼º    â†’  ç´§æ€¥æ€§
```

---

## ï¿½ å®æ–½è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼ˆWeek 1-2ï¼‰ï¼šè®¤è¯ä¸æƒé™

```
Week 1:
â”œâ”€â”€ Day 1-2: åˆ›å»º packages/auth/packages/core
â”œâ”€â”€ Day 3-4: åˆ›å»º packages/auth/packages/vue
â””â”€â”€ Day 5:   é›†æˆåˆ° app-vue

Week 2:
â”œâ”€â”€ Day 1-2: å¢å¼º packages/permissionï¼ˆåŸºäº router-coreï¼‰
â”œâ”€â”€ Day 3:   åˆ›å»º v-permission æŒ‡ä»¤
â”œâ”€â”€ Day 4-5: é›†æˆæƒé™åˆ° app-vue
```

**æˆæœ**: å®Œæ•´çš„è®¤è¯ä¸æƒé™ç³»ç»Ÿ

---

### ç¬¬äºŒé˜¶æ®µï¼ˆWeek 3-4ï¼‰ï¼šå¸ƒå±€ä¸èœå•

```
Week 3:
â”œâ”€â”€ Day 1-2: åœ¨ packages/template ä¸­æ‰©å±• layout åˆ†ç±»
â”‚            - åˆ›å»ºå¸ƒå±€å­ç»„ä»¶ï¼ˆHeader/Sider/Content/Footerï¼‰
â”‚            - åˆ›å»º useLayoutã€useSider composables
â”œâ”€â”€ Day 3-4: å®ç°å¸ƒå±€æ¨¡æ¿
â”‚            - layout:desktop:adminï¼ˆåå°ç®¡ç†å¸ƒå±€ï¼‰
â”‚            - layout:desktop:portalï¼ˆé—¨æˆ·å¸ƒå±€ï¼‰
â”‚            - layout:desktop:dashboardï¼ˆä»ªè¡¨ç›˜å¸ƒå±€ï¼‰
â”‚            - layout:desktop:blankï¼ˆç©ºç™½å¸ƒå±€ï¼‰
â”‚            - layout:mobile:defaultï¼ˆç§»åŠ¨ç«¯å¸ƒå±€ï¼‰
â””â”€â”€ Day 5:   å¸ƒå±€æ¨¡æ¿æµ‹è¯•ä¸è°ƒè¯•

Week 4:
â”œâ”€â”€ Day 1-3: åˆ›å»º packages/menu
â”œâ”€â”€ Day 4-5: å¸ƒå±€ä¸èœå•é›†æˆåˆ° app-vue
```

**æˆæœ**: æ”¯æŒå¤šç§å¸ƒå±€æ¨¡å¼çš„åº”ç”¨æ¡†æ¶ï¼ˆå¤ç”¨ template åŸºç¡€è®¾æ–½ï¼‰

---

### ç¬¬ä¸‰é˜¶æ®µï¼ˆWeek 5-6ï¼‰ï¼šæ ‡ç­¾é¡µä¸é¢åŒ…å±‘

```
Week 5:
â”œâ”€â”€ Day 1-3: åˆ›å»º packages/tabs
â”œâ”€â”€ Day 4-5: æ ‡ç­¾é¡µç¼“å­˜ä¸å†å²

Week 6:
â”œâ”€â”€ Day 1-2: é¢åŒ…å±‘é›†æˆ
â”œâ”€â”€ Day 3-5: æ•´ä½“è°ƒè¯•ä¸ä¼˜åŒ–
```

**æˆæœ**: å®Œæ•´çš„åå°ç®¡ç†æ¡†æ¶

---

### ç¬¬å››é˜¶æ®µï¼ˆWeek 7-8ï¼‰ï¼šå¢å¼ºåŠŸèƒ½

```
Week 7:
â”œâ”€â”€ Day 1-3: WebSocket å…¨å±€ç®¡ç†
â”œâ”€â”€ Day 4-5: çŠ¶æ€æŒä¹…åŒ–

Week 8:
â”œâ”€â”€ Day 1-3: å‘½ä»¤é¢æ¿
â”œâ”€â”€ Day 4-5: PWA æ”¯æŒ
```

**æˆæœ**: åŠŸèƒ½å®Œå–„çš„ä¼ä¸šçº§åº”ç”¨æ¡†æ¶

---

## ğŸ“ å®Œæˆåçš„åº”ç”¨æ¶æ„

```
apps/app-vue/src/
â”œâ”€â”€ api/                      # API å±‚
â”‚   â”œâ”€â”€ auth.ts               # è®¤è¯ API
â”‚   â”œâ”€â”€ user.ts               # ç”¨æˆ· API
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ config/                   # é…ç½®
â”‚   â”œâ”€â”€ layout.ts             # ğŸ†• å¸ƒå±€é…ç½®ï¼ˆä½¿ç”¨å“ªç§å¸ƒå±€æ¨¡æ¿ï¼‰
â”‚   â””â”€â”€ menu.ts               # ğŸ†• èœå•é…ç½®
â”œâ”€â”€ locales/                  # å›½é™…åŒ–
â”œâ”€â”€ plugins/                  # å¼•æ“æ’ä»¶
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ auth.ts               # ğŸ†• è®¤è¯æ’ä»¶
â”‚   â”œâ”€â”€ permission.ts         # ğŸ†• æƒé™æ’ä»¶
â”‚   â”œâ”€â”€ template.ts           # ğŸ†• æ¨¡æ¿æ’ä»¶ï¼ˆé…ç½®å¸ƒå±€æ¨¡æ¿ï¼‰
â”‚   â”œâ”€â”€ menu.ts               # ğŸ†• èœå•æ’ä»¶
â”‚   â”œâ”€â”€ tabs.ts               # ğŸ†• æ ‡ç­¾é¡µæ’ä»¶
â”‚   â””â”€â”€ ...existing...
â”œâ”€â”€ router/
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ guards.ts             # ğŸ†• è·¯ç”±å®ˆå«
â”‚   â””â”€â”€ routes/               # ğŸ†• æ¨¡å—åŒ–è·¯ç”±
â”‚       â”œâ”€â”€ auth.ts
â”‚       â”œâ”€â”€ dashboard.ts
â”‚       â””â”€â”€ settings.ts
â”œâ”€â”€ stores/                   # çŠ¶æ€ä»“åº“
â”‚   â”œâ”€â”€ auth.ts               # ğŸ†• è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ user.ts               # ğŸ†• ç”¨æˆ·çŠ¶æ€
â”‚   â”œâ”€â”€ permission.ts         # ğŸ†• æƒé™çŠ¶æ€
â”‚   â”œâ”€â”€ layout.ts             # ğŸ†• å¸ƒå±€çŠ¶æ€ï¼ˆä¸ useLayout è”åŠ¨ï¼‰
â”‚   â”œâ”€â”€ tabs.ts               # ğŸ†• æ ‡ç­¾é¡µçŠ¶æ€
â”‚   â””â”€â”€ app.ts                # ğŸ†• åº”ç”¨çŠ¶æ€
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ auth/                 # è®¤è¯ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”œâ”€â”€ Register.vue
â”‚   â”‚   â””â”€â”€ ForgotPassword.vue
â”‚   â”œâ”€â”€ error/                # é”™è¯¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ 403.vue
â”‚   â”‚   â”œâ”€â”€ 404.vue
â”‚   â”‚   â””â”€â”€ 500.vue
â”‚   â”œâ”€â”€ dashboard/            # ä»ªè¡¨ç›˜
â”‚   â”‚   â””â”€â”€ Index.vue
â”‚   â””â”€â”€ ...other views...
â”œâ”€â”€ App.vue                   # ğŸ†• ä½¿ç”¨ TemplateRenderer æ¸²æŸ“å¸ƒå±€
â””â”€â”€ main.ts
```

> ğŸ’¡ **æ³¨æ„**: å¸ƒå±€ç»„ä»¶ä¸å†æ”¾åœ¨ `layouts/` ç›®å½•ä¸­ï¼Œè€Œæ˜¯é€šè¿‡ `@ldesign/template-vue` çš„ `TemplateRenderer` ç»„ä»¶åŠ¨æ€æ¸²æŸ“ã€‚å¸ƒå±€æ¨¡æ¿ç»Ÿä¸€ç®¡ç†åœ¨ `packages/template` åŒ…ä¸­ã€‚

---

## ğŸ¯ æ”¯æŒçš„åº”ç”¨å½¢æ€

å®Œæˆæ‰€æœ‰åŠŸèƒ½åï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºä»¥ä¸‹ç±»å‹çš„åº”ç”¨ï¼š

### 1. åå°ç®¡ç†ç³»ç»Ÿ (Admin)
- âœ… ä¾§è¾¹æ  + é¡¶æ å¸ƒå±€
- âœ… å¤šæ ‡ç­¾é¡µ
- âœ… æƒé™æ§åˆ¶
- âœ… èœå•ç®¡ç†

### 2. é—¨æˆ·ç½‘ç«™ (Portal)
- âœ… é¡¶éƒ¨å¯¼èˆªå¸ƒå±€
- âœ… ç”¨æˆ·è®¤è¯
- âœ… å“åº”å¼è®¾è®¡

### 3. ä»ªè¡¨ç›˜ (Dashboard)
- âœ… å…¨å±å¸ƒå±€
- âœ… å®æ—¶æ•°æ®æ¨é€
- âœ… å¯æ‹–æ‹½é¢æ¿

### 4. ç§»åŠ¨ç«¯åº”ç”¨ (Mobile)
- âœ… åº•éƒ¨å¯¼èˆªå¸ƒå±€
- âœ… æ‰‹åŠ¿æ”¯æŒ
- âœ… PWA ç¦»çº¿

### 5. å¤šç§Ÿæˆ· SaaS
- âœ… åŠ¨æ€æƒé™
- âœ… ç§Ÿæˆ·éš”ç¦»
- âœ… ä¸»é¢˜å®šåˆ¶

---

## ğŸ“¦ éœ€è¦æ–°å»º/æ‰©å±•çš„ packages æ±‡æ€»

### æ–°å»ºçš„åŒ…

| åŒ…å | è·¯å¾„ | ä¼˜å…ˆçº§ | å·¥ä½œé‡ |
|------|------|--------|--------|
| `@ldesign/auth-core` | `packages/auth/packages/core` | P0 | 15h |
| `@ldesign/auth-vue` | `packages/auth/packages/vue` | P0 | 10h |
| `@ldesign/permission-core` | `packages/permission/packages/core` | P0 | 10h |
| `@ldesign/permission-vue` | `packages/permission/packages/vue` | P0 | 8h |
| `@ldesign/menu-core` | `packages/menu/packages/core` | P1 | 10h |
| `@ldesign/menu-vue` | `packages/menu/packages/vue` | P1 | 12h |
| `@ldesign/tabs-core` | `packages/tabs/packages/core` | P1 | 10h |
| `@ldesign/tabs-vue` | `packages/tabs/packages/vue` | P1 | 12h |
| `@ldesign/command-core` | `packages/command/packages/core` | P2 | 8h |
| `@ldesign/command-vue` | `packages/command/packages/vue` | P2 | 10h |

### æ‰©å±•ç°æœ‰åŒ…ï¼ˆä»£æ›¿æ–°å»ºï¼‰

| åŒ…å | æ‰©å±•å†…å®¹ | ä¼˜å…ˆçº§ | å·¥ä½œé‡ |
|------|---------|--------|--------|
| `@ldesign/template-vue` | å¸ƒå±€æ¨¡æ¿åˆ†ç±» (`layout`) | P0 | 18h |
| | - å¸ƒå±€å­ç»„ä»¶ (Header/Sider/Content/Footer/Tabs) | | |
| | - å¸ƒå±€ composables (useLayout/useSider) | | |
| | - å¤šç§å¸ƒå±€æ¨¡æ¿ (admin/portal/dashboard/blank) | | |
| | - ç§»åŠ¨ç«¯/å¹³æ¿å¸ƒå±€æ¨¡æ¿ | | |

### ä¼˜åŒ–è¯´æ˜

> âš¡ **å‡å°‘åŒ…æ•°é‡**: é€šè¿‡åœ¨ `packages/template` ä¸­æ‰©å±•å¸ƒå±€åŠŸèƒ½ï¼Œé¿å…æ–°å»º `packages/layout` (2ä¸ªåŒ…)ï¼Œå‡å°‘ç»´æŠ¤æˆæœ¬
>
> ğŸ“¦ **å¤ç”¨åŸºç¡€è®¾æ–½**: å¸ƒå±€ç³»ç»Ÿå¤ç”¨ template çš„æ¨¡æ¿ç®¡ç†ã€å“åº”å¼è®¾å¤‡æ£€æµ‹ã€æ‡’åŠ è½½ç­‰èƒ½åŠ›
>
> ğŸ¯ **ç»Ÿä¸€ API**: ä½¿ç”¨ `TemplateRenderer` æ¸²æŸ“å¸ƒå±€ï¼Œä¸å…¶ä»–æ¨¡æ¿ä½¿ç”¨æ–¹å¼ä¸€è‡´

**æ€»è®¡**: çº¦ 93-105 å°æ—¶ï¼ˆ12-13 ä¸ªå·¥ä½œæ—¥ï¼‰
**èŠ‚çœ**: çº¦ 27 å°æ—¶ï¼ˆç›¸æ¯”åŸæ–¹æ¡ˆå‡å°‘çº¦ 20%ï¼‰

---

## ğŸ”— å‚è€ƒèµ„æº

**ç°æœ‰å®ç°ï¼ˆå¯å‚è€ƒï¼‰**:
- `packages/template/packages/vue/src` - æ¨¡æ¿ç³»ç»ŸåŸºç¡€è®¾æ–½ï¼ˆå¸ƒå±€æ‰©å±•åŸºç¡€ï¼‰
- `libraries/webcomponent/src/components/menu` - èœå• Web Component
- `libraries/webcomponent/src/components/tabs` - æ ‡ç­¾é¡µ Web Component
- `packages/router/packages/core/src/features/permissions.ts` - æƒé™åŸºç¡€
- `libraries/editor/packages/core/src/enterprise/auth` - è®¤è¯å‚è€ƒ

**è®¾è®¡å‚è€ƒ**:
- Ant Design Pro Layout
- Naive UI Admin
- Vue Vben Admin

---

**æœ€åæ›´æ–°**: 2025-12-01
**å˜æ›´è®°å½•**:
- ä¼˜åŒ–å¸ƒå±€ç³»ç»Ÿå®ç°æ–¹æ¡ˆï¼šä»æ–°å»º `packages/layout` æ”¹ä¸ºåœ¨ `packages/template` ä¸­æ‰©å±• `layout` åˆ†ç±»
